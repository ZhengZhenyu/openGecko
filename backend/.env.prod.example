# =====================================================================
# openGecko 生产环境配置模板
# 复制为 backend/.env 并填写所有必填项后再部署
# =====================================================================

# ─────────────────────────────────────────────────────────────────────
# 数据库 [必填]
# ─────────────────────────────────────────────────────────────────────
# 生产环境强烈建议使用 PostgreSQL
DATABASE_URL=postgresql://opengecko:YOUR_DB_PASSWORD@db:5432/opengecko
# 连接池配置（PostgreSQL）
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20
DB_POOL_TIMEOUT=30
DB_POOL_RECYCLE=1800
DB_ECHO=false

# ─────────────────────────────────────────────────────────────────────
# 安全 [必填]
# ─────────────────────────────────────────────────────────────────────
# JWT 密钥：使用 `openssl rand -hex 32` 生成强随机密钥
JWT_SECRET_KEY=REPLACE_WITH_STRONG_RANDOM_KEY_32_BYTES_HEX
# Token 有效期（分钟）
ACCESS_TOKEN_EXPIRE_MINUTES=60

# ─────────────────────────────────────────────────────────────────────
# CORS [必填]
# ─────────────────────────────────────────────────────────────────────
# 多个域名用英文逗号分隔，禁止在生产环境使用 *
CORS_ORIGINS=https://your-domain.com,https://admin.your-domain.com

# ─────────────────────────────────────────────────────────────────────
# 速率限制
# ─────────────────────────────────────────────────────────────────────
RATE_LIMIT_LOGIN=10/minute
RATE_LIMIT_DEFAULT=120/minute

# ─────────────────────────────────────────────────────────────────────
# 初始管理员 [必填 - 首次启动后请立即修改密码]
# ─────────────────────────────────────────────────────────────────────
DEFAULT_ADMIN_USERNAME=admin
DEFAULT_ADMIN_PASSWORD=REPLACE_WITH_STRONG_INITIAL_PASSWORD
DEFAULT_ADMIN_EMAIL=admin@your-domain.com

# ─────────────────────────────────────────────────────────────────────
# 服务器配置
# ─────────────────────────────────────────────────────────────────────
HOST=0.0.0.0
PORT=8000
DEBUG=false
LOG_LEVEL=warning
LOG_FORMAT=json

# ─────────────────────────────────────────────────────────────────────
# 文件上传
# ─────────────────────────────────────────────────────────────────────
# 上传文件最大大小（字节），默认 10MB
MAX_UPLOAD_SIZE=10485760
# 上传文件存储路径
UPLOAD_DIR=/app/uploads

# ─────────────────────────────────────────────────────────────────────
# SMTP 邮件（可选，用于密码重置通知）
# ─────────────────────────────────────────────────────────────────────
# SMTP_HOST=smtp.your-provider.com
# SMTP_PORT=587
# SMTP_USER=noreply@your-domain.com
# SMTP_PASSWORD=YOUR_SMTP_PASSWORD
# SMTP_FROM_EMAIL=noreply@your-domain.com
# SMTP_USE_TLS=true
