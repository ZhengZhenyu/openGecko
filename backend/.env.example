# =====================================================================
# openGecko 开发环境配置模板
# 复制为 backend/.env：  cp backend/.env.example backend/.env
# 生产环境请参考 backend/.env.prod.example
# =====================================================================

# ─────────────────────────────────────────────────────────────────────
# 数据库
# ─────────────────────────────────────────────────────────────────────
# 开发默认 SQLite；生产建议换为 PostgreSQL（见 .env.prod.example）
# 路径对应 docker-compose.yml 中 ./data:/app/data 卷，确保数据持久化
DATABASE_URL=sqlite:///./data/opengecko.db

# 连接池（PostgreSQL / MySQL 时生效）
# DB_POOL_SIZE=5
# DB_MAX_OVERFLOW=10
# DB_POOL_TIMEOUT=30
# DB_POOL_RECYCLE=3600
# DB_ECHO=false

# ─────────────────────────────────────────────────────────────────────
# 安全
# ─────────────────────────────────────────────────────────────────────
# ⚠️  生产环境必须替换为强随机密钥：openssl rand -hex 32
JWT_SECRET_KEY=dev-secret-key-change-in-production
ACCESS_TOKEN_EXPIRE_MINUTES=480

# ─────────────────────────────────────────────────────────────────────
# CORS（生产环境必填，多个域名用逗号分隔）
# ─────────────────────────────────────────────────────────────────────
# CORS_ORIGINS=https://your-domain.com
# 开发环境默认值: http://localhost:3000,http://127.0.0.1:3000

# ─────────────────────────────────────────────────────────────────────
# 速率限制
# ─────────────────────────────────────────────────────────────────────
# RATE_LIMIT_LOGIN=10/minute
# RATE_LIMIT_DEFAULT=120/minute

# ─────────────────────────────────────────────────────────────────────
# 初始管理员 [仅首次启动时使用]
# ─────────────────────────────────────────────────────────────────────
DEFAULT_ADMIN_USERNAME=admin
DEFAULT_ADMIN_PASSWORD=admin123
DEFAULT_ADMIN_EMAIL=admin@example.com

# ─────────────────────────────────────────────────────────────────────
# 时区配置
# ─────────────────────────────────────────────────────────────────────
# 服务端使用的时区，影响 ICS 日历文件和邮件通知中的时间显示
# 数据库始终以 UTC 存储；此配置仅控制服务端生成内容的本地化时区
# 可用值参见 IANA 时区数据库: https://en.wikipedia.org/wiki/List_of_tz_database_time_zones
APP_TIMEZONE=Asia/Shanghai

# ─────────────────────────────────────────────────────────────────────
# 服务器
# ─────────────────────────────────────────────────────────────────────
HOST=0.0.0.0
PORT=8000
DEBUG=true
LOG_LEVEL=info
# LOG_FORMAT=json   # 生产环境建议启用 JSON 格式日志

# ─────────────────────────────────────────────────────────────────────
# 文件上传
# ─────────────────────────────────────────────────────────────────────
# MAX_UPLOAD_SIZE=10485760   # 10MB
# UPLOAD_DIR=/app/uploads

# ─────────────────────────────────────────────────────────────────────
# SMTP（可选，用于密码重置）
# ─────────────────────────────────────────────────────────────────────
# SMTP_HOST=smtp.example.com
# SMTP_PORT=587
# SMTP_USER=your-email@example.com
# SMTP_PASSWORD=your-email-password
# SMTP_FROM_EMAIL=noreply@example.com
# SMTP_USE_TLS=true
